%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% "Magic comments" for the LaTeX editor -------------
% !TEX root = ../Diss.tex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% PW: Paket silence unterdrückt Warnungen. Schreibt die unterdrückten Sachen aber in eine .sil Datei
%% Silence braucht für save auch ein TeX \write :-(
% \usepackage[debrief, save]{silence}
%\RequirePackage[options]{silence} vor \documentclass{}
% PW: Ausschalten bekannter Warnungen.
\RequirePackage{silence}
\WarningFilter{typearea}{Maybe no optimal type area settings}
\WarningFilter{typearea}{Bad type area settings}
\WarningFilter{Mathdots}{Redefining amsmath commands}
\WarningFilter{latexfont}{Font shape}
\WarningFilter{pdfpages}{I will use a dummy}
\WarningFilter{caption}{Unused}
\WarningFilter{hyperref}{Rerun to get /PageLabels}
\WarningFilter{scrwfile}{THIS IS AN ALPHA VERSION}
\WarningFilter*{ifplatform}{^^J \space\space\space shell escape is disabled}

%% For debug reasons: list all files
%\listfiles

%% Dokumentenklasse (Koma Script) -----------------------------------------
\documentclass[%
  % Sprachunterstützung:
  % (Dokumenthauptsprache ist die, die zuletzt genannt ist - sie wird 
  % für die Beschriftung von Abbildungen und Verzeichnissen verwendet)
%  ngerman,% Deutsch (neue Rechtschreibung)
%  english,% Englisch
  %draft,     % Entwurfsstadium
  final,      % fertiges Dokument
	% --- Paper Settings ---
	%% Für Dissertationen nimmt KIT Scientific Publishing sowohl A4 als auch A5.
	%% A4 wird einfach runterskaliert, muss aber entsprechend eine größere
	%% Schrift haben, was ggf. Nacharbei mit sich ziehen kann.
	%% Daher besser direkt im A5-Format
  %paper=a4,
  paper=a5,
	%% Hochformat/Querformat
  paper=portrait, % landscape
  pagesize=auto, % driver
  % --- Base Font Size ---
	%% Schriftgröße
  %fontsize=9pt,%  9pt ist dem KIT-Verlag bei A5 aktuell zu klein
  fontsize=10pt,%  bei A5 ist 10pt Mindest-Schriftgröße (Forderung des KSP-Verlages)
	%fontsize=14pt,%  % 11 bei A4.
	% --- Koma Script Version ---
  version=last %,
% ]{scrbook} % Mögliche Klassen scrartcl, scrreprt, scrbook
 ]{scrreprt} % 

\usepackage{scrhack}  %um Warnungen zu beheben

% Verwendung von ifthenelse
\usepackage{ifthen}

%%% Doc: ftp://tug.ctan.org/pub/tex-archive/macros/latex/contrib/xcolor/xcolor.pdf
% Farben. Weitere Einstellungen in der Datei ColorSettings.tex
% xcolor muss früher geladen werden, da ansonsten Optionen-Clash mit xelibertine?
% Incompatible: Do not load when using pstricks !
\usepackage[%
	table, % Load for using rowcolors command in tables
	%cmyk, % CMYK Farbraum für den Druck (wird später mit \selectcolormodel gesetzt)
	dvipsnames % for using the extended name set
]{xcolor}

% Encoding der Quellcode-Dateien (sonst funktionieren Umlaute in den Quellcodedateien nicht)
\input{preambel/EncodingAndFont.tex}

%%% Wichtige Befehle für weitere Präambel-Dateien
\input{preambel/preambel-commands.tex}

%%%%%%%%%%%%%%%%%%%%%%%%     WICHTIG !     %%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%  HIER EINSTELLEN, OB ENGLISCH ODER DEUTSCH USW.  %%%%%%%%
%%%%%%%%%%%%         SOWIE WAS UND WIE ANGEZEIGT WIRD         %%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{preambel/AlleSchalter.tex}

%%%%%%%%%%%%%%%%%%%%%%%%     WICHTIG  !    %%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%      HIER ANGABEN ZUM AUTOR, TITEL, ETC     %%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{preambel/AlleAngaben.tex}

%%% Einstellungen zu Seitenlayout, Abständen etc.
\input{preambel/settings.tex}

%%% Definition der Farben etc.
\input{preambel/ColorSettings.tex}

%%% Einstellungen für KOMA-Script
%%% Hier werden die KOMAoptions gesetzt wie z.B. Ränder, Kopfzeilen, einseitig/zweiseitig, Absatzabstände, Inhaltsverzeichnis usw.
%%% Alle Optionen sind im scrguide.pdf erklärt, die ihr in Eurem LaTeX-Distributionsverzeichnis bei den Docs findet!
\input{preambel/KomaOptions.tex}

%% Präambel Teil II
%% Einbindung sämtlicher Pakete
\input{preambel/preambel.tex}

%% Zusatzpakete
\input{preambel/MyPackages.tex}

%% Mathe-Pakete sowie Definition der Sondersymbole und sonstiger Mathe-Macros
\input{preambel/Math}

%% Hauptsprache des Dokuments setzen (abhängig von der Angabe des Schalters 
%% "englishAsMainLanguage", welcher in der Datei AlleSchalter.tex gesetzt wird)
\ifthenelse{\boolean{englishAsMainLanguage}}{%
	\selectlanguage{english}
}{%
	\selectlanguage{ngerman}
}

%%% Silbentrennung
\input{preambel/Hyphenation.tex}

%%PW: Glyphtounicode für pdfx, PDF/A-Kompatibilität. In Ruhe lassen!
%\input{preambel/glyphtounicode.tex}

% Angaben zu den Pfaden zu Grafiken, BibTeX-.Datei etc
\input{preambel/AllePfade.tex}

% Übersetzungen verschiedener Überschriften etc.
\input{preambel/Translations.tex}

%%% Wenn man das Aussehen der Tabellen ändern will, findet man die Einstellungen in dieser Datei
\input{preambel/TableCommands.tex}

%%%% Aussehen von Glossaren
\input{preambel/GlossaryOptions.tex}

%%%% Neue Befehle / Makros
\input{preambel/Newcommands.tex}

% In der Arbeit verwendete Acronyme und Glossarbegriffe
\input{preambel/Acronyms.tex}
\input{preambel/Glossary.tex}
\input{preambel/GlossarySymbols.tex}




%remove padding in fboxes
\setlength{\fboxsep}{0pt}
% make a wider description in the glossary
%\setlength{\glsdescwidth}{0.7\linewidth}

%\IfPackageLoaded{minitoc}{\IfElseUnDefined{chapter}{\dosecttoc}{\dominitoc}}

%% Optionen für das Stichwortverzeichnis:
%% Create the file IndexStyle.ist on the fly:
%\usepackage{filecontents}
%\begin{filecontents}{IndexStyle.ist}
%headings_flag 1 % we use headings for letters
%heading_prefix "{\\textbf{\\hspace{4.5em}" % and they should be bold
%heading_suffix "}}\\nopagebreak\n"
%\end{filecontents}

%% Auszufuehrende Kommandozeilenbefehle  ------------------------------------------------
%%
%% Generation of intermediate files for glossary, acronym and symbol list
%% In order to make this work, "makeglossaries <filename>" has to be run from the command line
\IfDefined{makeglossaries}{\makeglossaries}
%%
%% makeindex is called implicitly thank to the package imakeidx
\IfDefined{makeindex}{\makeindex[options=-g -s preambel/IndexStyle.tex]}
\IfDefined{makenomenclature}{\makenomenclature}
%------------------------------------------------------------------------